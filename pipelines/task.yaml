meta:
  display: My task

node:
  # lists of tags
  requires:
    - build
    - linux
  avoids:
    - mac

steps:
  - clone:
    type: clone
    repo: ${repo}
    branch: ${branch}
  
  # arbitrary name
  - build:
    display: Build the thing
    type: script
    lang: shell
    script: >
      # this is my shell script
      cmake -S . -B build
      cmake --build build

  - thisStep:
    display: whatever
    type: exec
    target: ${workspace}/script.sh

  # copy build to artifact dir
  - archive:
    # if type isn't given, task name is used
    target: "${workspace}/build/bin"
